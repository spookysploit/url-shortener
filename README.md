# üîó URL Shortener

–ü—Ä–æ—Å—Ç–æ–π –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è URL, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ Go. –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–ª–∏–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –∏ –ø–æ–ª—É—á–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∞–¥—Ä–µ—Å–∞.

---

## –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **–Ø–∑—ã–∫:** Go 1.21+
- **–†–æ—É—Ç–µ—Ä:** chi
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** YAML (`config/local.yaml`)
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** slog
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è:** Docker, Docker Compose
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** Go `testing`, `testify/mock`

---

## –ó–∞–ø—É—Å–∫ –≤ Docker
–°–∫–∞—á–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–º–∞–Ω–¥—É:
```
git clone https://github.com/spookysploit/url-shortener.git
```
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```
cd ./url-shortener
```
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–∞–Ω–¥–æ–π:
```
docker compose up --build
```
–ü–æ—Å–ª–µ —á–µ–≥–æ —Å–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
__http://localhost:8080/__

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —Å–æ–∫—Ä–∞—Ç–∏—Ç—å —Å—Å—ã–ª–∫—É –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```
curl -X POST -d '{"url": "https://example.com/", "alias":"example"}' http://my_user:my_password@localhost:8080/url
```
–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã:
```
{"status":"OK","alias":"example"}
```
–°–æ–∫—Ä–∞—â–µ–Ω–Ω–∞—è —Å—Å—ã–ª–∫–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:
```
http://localhost:8080/example
```
–ï—Å–ª–∏ —Å—Å—ã–ª–∫–∞ —Å —Ç–∞–∫–∏–º –∞–ª–∏–∞—Å–æ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–æ –≤ –æ—Ç–≤–µ—Ç–µ –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞:
```
{"status":"Error","error":"url already exists"}
```
–ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –ø–æ —Å–æ–∫—Ä–∞—â–µ–Ω–Ω–æ–π —Å—Å—ã–ª–∫–µ –ø–æ–ª—É—á–∞–µ–º:
```
curl http://localhost:8080/example
```
```
<a href="https://example.com/">Found</a>.
```
